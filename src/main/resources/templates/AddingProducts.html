<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∫–ª–∞–¥ - –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); min-height: 100vh; color: #333; }

        /* Header —Å—Ç–∏–ª–∏ */
        .main-header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 0; box-shadow: 0 4px 12px rgba(0,0,0,0.1); position: fixed; top: 0; width: 100%; z-index: 1000; }
        .nav-container { max-width: 1400px; margin: 0 auto; padding: 0 2rem; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8rem; font-weight: 700; text-decoration: none; color: white; display: flex; align-items: center; gap: 0.5rem; }
        .logo::before { content: 'üì¶'; }
        .user-info { font-size: 1rem; }
        .user-info strong { font-weight: 600; }
        .nav-links { display: flex; list-style: none; gap: 2rem; }
        .nav-links a { color: white; text-decoration: none; font-weight: 500; padding: 0.5rem 1rem; border-radius: 8px; transition: background 0.3s; }
        .nav-links a:hover { background: rgba(255,255,255,0.2); }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .container { max-width: 1400px; margin: 0 auto; padding: 2rem; padding-top: 100px; }
        .page-header { text-align: center; margin-bottom: 3rem; color: #2d3748; }
        .page-title { font-size: 3rem; font-weight: 300; margin-bottom: 1rem; position: relative; display: inline-block; }
        .page-title::before { content: 'üì¶'; position: absolute; left: -70px; top: 50%; transform: translateY(-50%); font-size: 2.5rem; }
        .page-subtitle { font-size: 1.3rem; color: #718096; font-weight: 300; }

        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .admin-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.5rem; margin-bottom: 2rem; }
        .stat-card { background: white; padding: 2rem; border-radius: 16px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: transform 0.3s ease; position: relative; overflow: hidden; }
        .stat-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #667eea, #764ba2); }
        .stat-card:hover { transform: translateY(-5px); }
        .stat-icon { font-size: 2.5rem; margin-bottom: 1rem; display: block; }
        .stat-number { font-size: 2.2rem; font-weight: 700; color: #2d3748; display: block; margin-bottom: 0.5rem; }
        .stat-label { color: #718096; font-size: 0.95rem; font-weight: 500; }

        /* –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .admin-controls { background: white; border-radius: 20px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 15px 40px rgba(0,0,0,0.1); }
        .controls-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
        .control-btn { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2rem 1rem; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4); text-decoration: none; text-align: center; }
        .control-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6); }
        .control-icon { font-size: 2.5rem; margin-bottom: 1rem; }

        /* –°–µ–∫—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤ */
        .orders-section { background: white; border-radius: 20px; padding: 2rem; box-shadow: 0 15px 40px rgba(0,0,0,0.1); margin-bottom: 2rem; }
        .section-title { font-size: 1.8rem; font-weight: 600; margin-bottom: 1.5rem; color: #2d3748; display: flex; align-items: center; gap: 0.5rem; }
        .section-title::before { content: 'üìã'; font-size: 1.5rem; }

        /* –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã */
        .search-filters { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem; }
        .search-box, .filter-select { padding: 1rem 1.5rem; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 1rem; background: white; transition: all 0.3s ease; }
        .search-box:focus, .filter-select:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
        .filter-btn { padding: 1rem 2rem; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4); }
        .filter-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6); }

        /* –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤ */
        .orders-table { width: 100%; border-collapse: collapse; margin-bottom: 1.5rem; }
        .orders-table th { background: #f7fafc; padding: 1rem; text-align: left; font-weight: 600; color: #4a5568; border-bottom: 2px solid #e2e8f0; }
        .orders-table td { padding: 1rem; border-bottom: 1px solid #e2e8f0; }
        .order-row:hover { background: #f7fafc; }

        /* –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ */
        .order-status { display: inline-block; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem; font-weight: bold; }
        .status-processing { background: #fff3e0; color: #ef6c00; }
        .status-ready { background: #d1ecf1; color: #0c5460; }
        .status-completed { background: #d4edda; color: #155724; }

        /* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */
        .action-buttons { display: flex; gap: 0.5rem; }
        .btn { padding: 0.5rem 1rem; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; font-size: 0.9rem; display: inline-flex; align-items: center; gap: 0.3rem; }
        .btn-add { background: #e8f5e8; color: #2e7d32; border: 1px solid #a5d6a7; }
        .btn-add:hover { background: #a5d6a7; }
        .btn-details { background: #e3f2fd; color: #1565c0; border: 1px solid #90caf9; }
        .btn-details:hover { background: #90caf9; }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1000; align-items: center; justify-content: center; }
        .modal-content { background: white; border-radius: 20px; padding: 2rem; width: 90%; max-width: 600px; box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25); position: relative; animation: modalFadeIn 0.3s ease-out; max-height: 90vh; overflow-y: auto; }
        @keyframes modalFadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 2px solid #f7fafc; }
        .modal-title { font-size: 1.5rem; font-weight: 600; color: #2d3748; }
        .close-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #718096; }
        .close-btn:hover { color: #2d3748; }

        /* –§–æ—Ä–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è */
        .replenish-form { margin-top: 1rem; }
        .form-group { margin-bottom: 1.5rem; }
        .form-label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: #4a5568; }
        .form-input, .form-select { width: 100%; padding: 0.8rem 1rem; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 1rem; transition: all 0.3s ease; }
        .form-input:focus, .form-select:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        .modal-actions { display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem; }
        .btn-cancel { background: #f7fafc; color: #4a5568; border: 1px solid #e2e8f0; }
        .btn-cancel:hover { background: #e2e8f0; }
        .btn-save { background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); }
        .btn-save:hover { box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6); }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1200px) {
            .admin-stats { grid-template-columns: repeat(2, 1fr); }
            .search-filters { grid-template-columns: 1fr; }
        }
        @media (max-width: 768px) {
            .container { padding: 1rem; }
            .page-title { font-size: 2.2rem; }
            .page-title::before { display: none; }
            .orders-table { display: block; overflow-x: auto; }
            .action-buttons { flex-direction: column; }
            .modal-content { width: 95%; padding: 1.5rem; }
            .form-row { grid-template-columns: 1fr; }
        }
        @media (max-width: 480px) {
            .admin-stats { grid-template-columns: 1fr; }
            .controls-grid { grid-template-columns: 1fr; }
            .nav-links { flex-direction: column; gap: 0.5rem; }
        }
    </style>
</head>
<body>
<!-- Header –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å–∫–ª–∞–¥–∞ -->
<header class="main-header">
    <nav class="nav-container">
        <a href="/Set" class="logo">Glamour –°–∫–ª–∞–¥</a>
        <span class="user-info">
                –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <strong>–ò–≤–∞–Ω–æ–≤ –ê.–°.</strong>
            </span>
        <ul class="nav-links">
            <li><a href="/Set/approvals">–ó–∞—è–≤–∫–∏</a></li>
            <li><a href="/manager/OrderManager" class="active">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤</a></li>
            <li><a href="/logout">–í—ã–π—Ç–∏</a></li>
        </ul>
    </nav>
</header>

<div class="container">
    <div class="page-header">
        <h1 class="page-title">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤</h1>
        <p class="page-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∑–∞–∫–∞–∑–∞—Ö</p>
    </div>

    <div class="admin-stats">
        <div class="stat-card">
            <span class="stat-icon">üì¶</span>
            <span class="stat-number" id="totalOrders">24</span>
            <span class="stat-label">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</span>
        </div>
        <div class="stat-card">
            <span class="stat-icon">‚è≥</span>
            <span class="stat-number" id="processingOrders">12</span>
            <span class="stat-label">–í –æ–±—Ä–∞–±–æ—Ç–∫–µ</span>
        </div>
        <div class="stat-card">
            <span class="stat-icon">‚úÖ</span>
            <span class="stat-number" id="completedOrders">8</span>
            <span class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è</span>
        </div>
        <div class="stat-card">
            <span class="stat-icon">üìä</span>
            <span class="stat-number" id="avgItems">5.2</span>
            <span class="stat-label">–°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª-–≤–æ –ø–æ–∑–∏—Ü–∏–π</span>
        </div>
    </div>

    <div class="admin-controls">
        <div class="controls-grid">
            <button class="control-btn" type="button" onclick="filterOrders('all')">
                <span class="control-icon">üìã</span>–í—Å–µ –∑–∞–∫–∞–∑—ã
            </button>
            <button class="control-btn" type="button" onclick="filterOrders('processing')">
                <span class="control-icon">‚è≥</span>–í –æ–±—Ä–∞–±–æ—Ç–∫–µ
            </button>
            <button class="control-btn" type="button" onclick="filterOrders('ready')">
                <span class="control-icon">‚úÖ</span>–ì–æ—Ç–æ–≤—ã –∫ –≤—ã–¥–∞—á–µ
            </button>
            <button class="control-btn" type="button" onclick="filterOrders('completed')">
                <span class="control-icon">üì¶</span>–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ
            </button>
        </div>
    </div>

    <div class="orders-section">
        <h2 class="section-title">–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤</h2>

        <div class="search-filters">
            <input type="text" class="search-box" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É –∑–∞–∫–∞–∑–∞ –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç—É..." oninput="searchOrders(this.value)">
            <select class="filter-select" id="dateFilter">
                <option value="">–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è</option>
                <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                <option value="week">–ó–∞ –Ω–µ–¥–µ–ª—é</option>
                <option value="month">–ó–∞ –º–µ—Å—è—Ü</option>
            </select>
            <button class="filter-btn" onclick="applyFilters()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
        </div>

        <table class="orders-table">
            <thead>
            <tr>
                <th>ID –∑–∞–∫–∞–∑–∞</th>
                <th>–ö–ª–∏–µ–Ω—Ç</th>
                <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                <th>–ö–æ–ª-–≤–æ –ø–æ–∑–∏—Ü–∏–π</th>
                <th>–û–±—â–∞—è —Å—É–º–º–∞</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
            </thead>
            <tbody id="ordersTbody">
            <!-- –ó–∞–∫–∞–∑—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </tbody>
        </table>

        <div id="noOrdersMessage" style="text-align:center; color:#718096; padding:1rem; display:none;">
            –ó–∞–∫–∞–∑—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ -->
<div id="replenishModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
            <button class="close-btn" type="button" onclick="closeReplenishModal()">√ó</button>
        </div>

        <div class="order-info">
            <div class="detail-group">
                <span class="detail-label">ID –∑–∞–∫–∞–∑–∞:</span>
                <div class="detail-value" id="modalOrderId">-</div>
            </div>
            <div class="detail-group">
                <span class="detail-label">–ö–ª–∏–µ–Ω—Ç:</span>
                <div class="detail-value" id="modalCustomer">-</div>
            </div>
        </div>

        <form class="replenish-form" id="replenishForm">
            <div class="form-group">
                <label class="form-label" for="productSelect">–¢–æ–≤–∞—Ä:</label>
                <select class="form-select" id="productSelect" required>
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä</option>
                    <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </select>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="quantityInput">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                    <input type="number" class="form-input" id="quantityInput" min="1" value="1" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="priceInput">–¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É (‚ÇΩ):</label>
                    <input type="number" class="form-input" id="priceInput" min="0" step="0.01" required>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label" for="commentInput">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</label>
                <input type="text" class="form-input" id="commentInput" placeholder="–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...">
            </div>

            <div class="modal-actions">
                <button type="button" class="btn btn-cancel" onclick="closeReplenishModal()">–û—Ç–º–µ–Ω–∞</button>
                <button type="button" class="btn btn-save" onclick="addItemToOrder()">–î–æ–±–∞–≤–∏—Ç—å –≤ –∑–∞–∫–∞–∑</button>
            </div>
        </form>
    </div>
</div>

<script>
    // –î–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–∞—à–µ–π –ë–î)
    const ordersData = [
        {
            id: 1001,
            customer: "–ü–µ—Ç—Ä–æ–≤–∞ –ú.–í.",
            date: "2023-10-15 14:30",
            items: 3,
            total: 4500,
            status: "processing",
            itemsList: [
                { id: 1, name: "–ö—Ä–µ–º –¥–ª—è –ª–∏—Ü–∞", quantity: 1, price: 1500 },
                { id: 2, name: "–®–∞–º–ø—É–Ω—å", quantity: 2, price: 1500 }
            ]
        },
        {
            id: 1002,
            customer: "–°–∏–¥–æ—Ä–æ–≤ –ö.–î.",
            date: "2023-10-15 12:15",
            items: 5,
            total: 7200,
            status: "ready",
            itemsList: [
                { id: 1, name: "–¢—É—à—å –¥–ª—è —Ä–µ—Å–Ω–∏—Ü", quantity: 2, price: 1200 },
                { id: 2, name: "–ü–æ–º–∞–¥–∞", quantity: 3, price: 6000 }
            ]
        },
        {
            id: 1003,
            customer: "–ö—É–∑–Ω–µ—Ü–æ–≤–∞ –ï.–ü.",
            date: "2023-10-14 16:45",
            items: 2,
            total: 3200,
            status: "completed",
            itemsList: [
                { id: 1, name: "–ì–µ–ª—å –¥–ª—è –¥—É—à–∞", quantity: 1, price: 500 },
                { id: 2, name: "–õ–æ—Å—å–æ–Ω –¥–ª—è —Ç–µ–ª–∞", quantity: 1, price: 2700 }
            ]
        },
        {
            id: 1004,
            customer: "–ò–≤–∞–Ω–æ–≤ –ê.–°.",
            date: "2023-10-14 10:20",
            items: 4,
            total: 5800,
            status: "processing",
            itemsList: [
                { id: 1, name: "–î–µ–∑–æ–¥–æ—Ä–∞–Ω—Ç", quantity: 2, price: 800 },
                { id: 2, name: "–ö—Ä–µ–º –¥–ª—è —Ä—É–∫", quantity: 2, price: 5000 }
            ]
        }
    ];

    // –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
    const availableProducts = [
        { id: 1, name: "–ö—Ä–µ–º –¥–ª—è –ª–∏—Ü–∞", price: 1500 },
        { id: 2, name: "–®–∞–º–ø—É–Ω—å", price: 750 },
        { id: 3, name: "–¢—É—à—å –¥–ª—è —Ä–µ—Å–Ω–∏—Ü", price: 600 },
        { id: 4, name: "–ü–æ–º–∞–¥–∞", price: 2000 },
        { id: 5, name: "–ì–µ–ª—å –¥–ª—è –¥—É—à–∞", price: 500 },
        { id: 6, name: "–õ–æ—Å—å–æ–Ω –¥–ª—è —Ç–µ–ª–∞", price: 2700 },
        { id: 7, name: "–î–µ–∑–æ–¥–æ—Ä–∞–Ω—Ç", price: 400 },
        { id: 8, name: "–ö—Ä–µ–º –¥–ª—è —Ä—É–∫", price: 2500 }
    ];

    let currentOrderId = null;
    let currentFilter = 'all';

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', function() {
        renderOrders();
        populateProductSelect();
    });

    // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
    function populateProductSelect() {
        const select = document.getElementById('productSelect');
        select.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä</option>';

        availableProducts.forEach(product => {
            const option = document.createElement('option');
            option.value = product.id;
            option.textContent = `${product.name} - ${product.price} ‚ÇΩ`;
            option.dataset.price = product.price;
            select.appendChild(option);
        });
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–æ–≤–∞—Ä–∞
    document.getElementById('productSelect').addEventListener('change', function() {
        const selectedOption = this.options[this.selectedIndex];
        if (selectedOption.value) {
            document.getElementById('priceInput').value = selectedOption.dataset.price;
        } else {
            document.getElementById('priceInput').value = '';
        }
    });

    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
    function renderOrders() {
        const tbody = document.getElementById('ordersTbody');
        const noOrdersMessage = document.getElementById('noOrdersMessage');

        // –û—á–∏—Å—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü—ã
        tbody.innerHTML = '';

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤
        let filteredOrders = ordersData;
        if (currentFilter !== 'all') {
            filteredOrders = ordersData.filter(order => order.status === currentFilter);
        }

        // –ï—Å–ª–∏ –∑–∞–∫–∞–∑–æ–≤ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        if (filteredOrders.length === 0) {
            noOrdersMessage.style.display = 'block';
            return;
        }

        noOrdersMessage.style.display = 'none';

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü—É
        filteredOrders.forEach(order => {
            const row = document.createElement('tr');
            row.className = 'order-row';

            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ —Å—Ç–∞—Ç—É—Å–∞
            let statusClass = '';
            let statusText = '';

            switch(order.status) {
                case 'processing':
                    statusClass = 'status-processing';
                    statusText = '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ';
                    break;
                case 'ready':
                    statusClass = 'status-ready';
                    statusText = '–ì–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ';
                    break;
                case 'completed':
                    statusClass = 'status-completed';
                    statusText = '–ó–∞–≤–µ—Ä—à–µ–Ω';
                    break;
            }

            row.innerHTML = `
                <td>#${order.id}</td>
                <td>${order.customer}</td>
                <td>${order.date}</td>
                <td>${order.items}</td>
                <td>${order.total} ‚ÇΩ</td>
                <td><span class="order-status ${statusClass}">${statusText}</span></td>
                <td>
                    <div class="action-buttons">
                        <button class="btn btn-details" onclick="viewOrderDetails(${order.id})">üëÅÔ∏è –î–µ—Ç–∞–ª–∏</button>
                        <button class="btn btn-add" onclick="openReplenishModal(${order.id})">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                </td>
            `;

            tbody.appendChild(row);
        });
    }

    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤
    function filterOrders(filter) {
        currentFilter = filter;
        renderOrders();
    }

    // –ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤
    function searchOrders(query) {
        // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É
        console.log('–ü–æ–∏—Å–∫:', query);
        // –î–ª—è –¥–µ–º–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –≤—Å–µ –∑–∞–∫–∞–∑—ã
        renderOrders();
    }

    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
    function applyFilters() {
        const dateFilter = document.getElementById('dateFilter').value;
        console.log('–§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ:', dateFilter);
        renderOrders();
    }

    // –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –∑–∞–∫–∞–∑–∞
    function viewOrderDetails(id) {
        const order = ordersData.find(o => o.id === id);
        if (!order) return;

        let detailsText = `–ó–∞–∫–∞–∑ #${order.id}\n`;
        detailsText += `–ö–ª–∏–µ–Ω—Ç: ${order.customer}\n`;
        detailsText += `–î–∞—Ç–∞: ${order.date}\n`;
        detailsText += `–°—Ç–∞—Ç—É—Å: ${order.status}\n\n`;
        detailsText += "–¢–æ–≤–∞—Ä—ã:\n";

        order.itemsList.forEach(item => {
            detailsText += `- ${item.name}: ${item.quantity} —à—Ç. x ${item.price} ‚ÇΩ = ${item.quantity * item.price} ‚ÇΩ\n`;
        });

        detailsText += `\n–ò—Ç–æ–≥–æ: ${order.total} ‚ÇΩ`;

        alert(detailsText);
    }

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
    function openReplenishModal(id) {
        const order = ordersData.find(o => o.id === id);
        if (!order) return;

        currentOrderId = id;

        document.getElementById('modalOrderId').textContent = order.id;
        document.getElementById('modalCustomer').textContent = order.customer;

        // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
        document.getElementById('replenishForm').reset();
        document.getElementById('quantityInput').value = 1;

        document.getElementById('replenishModal').style.display = 'flex';
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
    function closeReplenishModal() {
        document.getElementById('replenishModal').style.display = 'none';
        currentOrderId = null;
    }

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∑–∞–∫–∞–∑
    function addItemToOrder() {
        if (!currentOrderId) return;

        const productSelect = document.getElementById('productSelect');
        const quantityInput = document.getElementById('quantityInput');
        const priceInput = document.getElementById('priceInput');
        const commentInput = document.getElementById('commentInput');

        const productId = parseInt(productSelect.value);
        const quantity = parseInt(quantityInput.value);
        const price = parseFloat(priceInput.value);
        const comment = commentInput.value;

        if (!productId || !quantity || !price) {
            alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è');
            return;
        }

        const product = availableProducts.find(p => p.id === productId);
        if (!product) {
            alert('–û—à–∏–±–∫–∞: —Ç–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω');
            return;
        }

        // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î
        console.log(`–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∑–∞–∫–∞–∑ ${currentOrderId}: ${product.name}, ${quantity} —à—Ç., ${price} ‚ÇΩ`);

        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –¥–µ–º–æ
        const orderIndex = ordersData.findIndex(o => o.id === currentOrderId);
        if (orderIndex !== -1) {
            const order = ordersData[orderIndex];
            order.items += 1;
            order.total += quantity * price;

            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä –≤ —Å–ø–∏—Å–æ–∫
            order.itemsList.push({
                id: productId,
                name: product.name,
                quantity: quantity,
                price: price
            });
        }

        closeReplenishModal();
        renderOrders();
        updateStats();

        alert(`–¢–æ–≤–∞—Ä "${product.name}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∑–∞–∫–∞–∑ #${currentOrderId}!`);
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    function updateStats() {
        // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥—É—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        document.getElementById('totalOrders').textContent = ordersData.length;
        document.getElementById('processingOrders').textContent = ordersData.filter(o => o.status === 'processing').length;
        document.getElementById('completedOrders').textContent = ordersData.filter(o => o.status === 'completed').length;
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
    window.onclick = function(event) {
        const replenishModal = document.getElementById('replenishModal');

        if (event.target === replenishModal) {
            closeReplenishModal();
        }
    }
</script>
</body>
</html>
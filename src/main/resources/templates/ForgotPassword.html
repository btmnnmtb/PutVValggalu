<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Сброс пароля — Glamour</title>
    <link rel="stylesheet" th:href="@{/css/site.css}">
    <style>
        :root{
          --bg1:#f5f7fa; --bg2:#c3cfe2;
          --primary:#e91e63; --primary-dark:#c2185b;
          --ok:#28a745; --ok-dark:#218838;
          --text:#333; --muted:#6b7280;
          --card:#ffffff; --ring:#e5e7eb;
          --shadow:0 10px 30px rgba(0,0,0,.08);
        }
        body{ margin:0; font-family:Arial, sans-serif; color:var(--text);
          background:linear-gradient(135deg,var(--bg1) 0%,var(--bg2) 100%);}
        .page{ min-height:100svh; padding-top:80px; display:grid; place-items:center; }
        .card{ width:min(94vw,520px); background:var(--card); border-radius:16px; box-shadow:var(--shadow);
          padding:28px 24px; position:relative; overflow:hidden; }
        .card::before{ content:""; position:absolute; inset:auto -40% 0 -40%; height:120px;
          background:radial-gradient(60% 80% at 50% 100%, rgba(233,30,99,.10), transparent 70%); pointer-events:none; }
        .brand{ display:flex; align-items:center; gap:10px; margin-bottom:6px; }
        .brand__logo{ font-size:24px; font-weight:800; color:var(--primary); letter-spacing:.3px; }
        .brand__tag{ font-size:12px; color:var(--muted) }
        h1{ font-size:22px; margin:6px 0 18px; }

        .field{ margin-top:12px; }
        .label{ display:block; font-weight:700; font-size:13px; margin:0 0 6px; color:#374151; }
        .input{ width:100%; padding:12px 14px; border:1px solid var(--ring); border-radius:10px;
          font-size:15px; outline:0; transition:box-shadow .2s, border-color .2s; background:#fff; }
        .input:focus{ border-color:var(--primary); box-shadow:0 0 0 3px rgba(233,30,99,.15); }

        .btn{ width:100%; padding:12px; border:0; border-radius:10px; cursor:pointer;
          color:#fff; font-weight:700; font-size:16px; margin-top:16px;
          background:linear-gradient(135deg,var(--ok),var(--ok-dark));
          box-shadow:0 8px 22px rgba(40,167,69,.25);
          transition:transform .08s ease, filter .2s; }
        .btn:hover{ filter:brightness(1.03); }
        .btn:active{ transform:translateY(1px); }

        .btn-alt{ display:inline-block; width:100%; text-align:center; padding:12px; margin-top:10px;
          background:#111827; color:#fff; border-radius:10px; text-decoration:none; box-shadow:0 8px 22px rgba(17,24,39,.18); }
        .btn-alt:hover{ filter:brightness(1.05); }

        .error{ margin:6px 0 0; color:#c62828; font-size:13px; }
        .banner{ padding:10px 12px; border-radius:10px; margin-bottom:10px; font-size:14px; text-align:center; }
        .banner--err{ background:#fff5f5; border:1px solid #fecaca; color:#b91c1c; }
        .banner--ok{ background:#f0fff4; border:1px solid #bbf7d0; color:#166534; }

        .hint{ font-size:12px; color:var(--muted); margin-top:6px; }
        .meter{ height:8px; background:#eef2ff; border-radius:999px; overflow:hidden; margin-top:8px; }
        .bar{ height:100%; width:0%; transition:width .25s; }
        .bar--weak{ background:#ef4444; }
        .bar--mid{ background:#f59e0b; }
        .bar--good{ background:#10b981; }
    </style>
</head>
<body>

<header>
    <div th:replace="~{fragments :: headerFragment('Гость','Гость')}"></div>
</header>

<main class="page">
    <section class="card" aria-labelledby="title-forgot">
        <div class="brand">
            <div class="brand__logo">Glamour</div>
            <div class="brand__tag">сброс пароля</div>
        </div>

        <h1 id="title-forgot">Забыли пароль</h1>

        <div th:if="${successMessage}" class="banner banner--ok" th:text="${successMessage}">Пароль обновлён</div>
        <div th:if="${errorMessage}" class="banner banner--err" th:text="${errorMessage}">Ошибка</div>

        <form th:action="@{/forgotSubmit}" method="post" novalidate>

            <div class="field">
                <label class="label" for="login">Логин</label>
                <input class="input" id="login" type="text" name="login" required>
            </div>

            <div class="field">
                <label class="label" for="newPassword">Новый пароль</label>
                <input class="input" id="newPassword" type="password" name="newPassword" minlength="8" required>
            </div>

            <div class="field">
                <label class="label" for="confirmPassword">Подтверждение пароля</label>
                <input class="input" id="confirmPassword" type="password" name="confirmPassword" required>
            </div>

            <button class="btn" type="submit" id="submitBtn">Сменить пароль</button>
            <a class="btn-alt" th:href="@{/login}">Вернуться к авторизации</a>
        </form>

    </section>
</main>